{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","props","formProps","addContent","newName","setNewName","newNumber","setNewNumber","onSubmit","event","target","type","Person","personFilter","deletePersons","map","person","name","number","onClick","id","Notification","message","className","state","baseUrl","axios","get","then","response","data","post","personObject","put","delete","App","useState","persons","setPersons","searchPersons","setSearchPersons","setPersonFilter","setMessage","useEffect","personsService","initialPersons","window","confirm","filter","catch","error","setTimeout","preventDefault","existingPerson","find","returnedPerson","concat","searched","toLowerCase","match","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.480b1877.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n    return (\r\n        <div>\r\n        <h2>Filter Phonebook</h2>\r\n        <div>\r\n            Name to filter: <input value={value} onChange={onChange} />\r\n            </div>\r\n        </div>    \r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    // console.log(props)\r\n    const { formProps: { addContent, newName, setNewName, newNumber, setNewNumber }} = props\r\n\r\n    return (\r\n        <form onSubmit={addContent}>\r\n            <div>\r\n                Name: <input value={newName} onChange={(event) => setNewName(event.target.value)} />\r\n            </div>\r\n            <div>\r\n                Number: <input value={newNumber} onChange={(event) => setNewNumber(event.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({ personFilter, deletePersons }) => {\r\n    return personFilter.map((person) => (\r\n        <p key={person.id}>\r\n            {person.name} - {person.number}\r\n            <button onClick={() => deletePersons(person.id, person.name)}>Delete</button>\r\n        </p>\r\n    ))\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={message.state}>\r\n      {message.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = person => {\r\n    const request = axios.post(baseUrl, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, personObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, createPerson, updatePerson, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ searchPersons, setSearchPersons ] = useState('')\n  const [ personFilter, setPersonFilter ] = useState(persons)\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n        //console.log('effect')\n        personsService\n          .getAll()\n            .then(initialPersons => {\n                //console.log('promise fulfilled')\n                setPersons(initialPersons)\n        })\n    }, [])\n    //console.log('render', persons.length, 'persons')\n\n  const handlePersonFilter = (event) => {\n    setSearchPersons(event.target.value)\n    const searched = persons.filter((person) => person.name.toLowerCase().match(event.target.value.toLowerCase())\n    )\n    setPersonFilter(searched)\n  }\n\n  const addContent = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    const existingPerson = persons.find(person => person.name === newName)\n    //console.log(existingPerson)\n\n      if (existingPerson) {\n        if (window.confirm(`${newName} is in the phonebook already, would you like to replace the phone number?`)) {\n          personsService\n            .updatePerson(existingPerson.id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id === returnedPerson.id\n                ? returnedPerson\n                : person))\n              setMessage(\n                {message: `Replaced ${returnedPerson.name}'s number with ${returnedPerson.number}`, state: \"successful\"}\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setMessage(\n                {message: `${newName} has already been deleted`, state: \"unsuccessful\"}\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n        }\n      } else {\n        // Post data to JSON server\n        personsService\n          .createPerson(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName(\"\")\n            setNewNumber(\"\")\n            setMessage(\n              {message: `Added ${returnedPerson.name}`, state: \"successful\"}\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n  }\n  \n  const deletePersons = (id, name) => {\n    if (window.confirm(`Confirm delete ${name}`)) {\n      personsService\n      .deletePerson(id)\n        .then((response) => {\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n        .catch(error => {\n          setMessage(\n            {message: `${name} has already been deleted`, state: \"unsuccessful\"}\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const formProps = {\n    addContent, newName, setNewName, newNumber, setNewNumber\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n\n      <Filter value={searchPersons} onChange={handlePersonFilter} />\n      \n      <h3>Add a new...</h3>\n      <PersonForm formProps={formProps} />\n      \n      <h2>Numbers</h2>\n      {searchPersons === '' ? <Person personFilter={persons} deletePersons={deletePersons}/> : <Person personFilter={personFilter} deletePersons={deletePersons} />}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}